id: QAS002
name: insufficient-classical-bits
description: "Detects when the number of classical bits is insufficient for measurements."
level: error
enabled: true

match:
  type: statement
  kind: measure

check:
  - type: classical_bit_count
    compare: measurement_targets

message: "Insufficient classical bits for measurements. Need {{ required }} but only {{ available }} declared."
tags: [qasm3, correctness, measurement]
fixable: false